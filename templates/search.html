{% extends "base.html" %}

{% block title %}é•·ç…§åœ°åœ–{% endblock title %}

{% block content %}
<section class="py-4">
  <div class="container">
    <div class="row align-items-stretch">

      <!-- ğŸ”¹ å·¦å´ï¼šæŸ¥è©¢å¡ç‰‡ -->
      <div class="col-md-4">
        <div class="card shadow h-100">
          <div class="card-header text-center bg-light">
            <h5 class="fw-bold">è«‹è¼¸å…¥ä½å€è³‡è¨Š</h5>
          </div>
          <div class="card-body">
            <form method="post" action="/search">
              <div class="mb-3">
                <label class="form-label">ç¸£å¸‚:</label>
                <input name="city" class="form-control" placeholder="åªèƒ½ã€Œè‡ºåŒ—å¸‚ã€ ä¸èƒ½é€™æ¨£ã€Œå°åŒ—å¸‚ã€">
              </div>
              <div class="mb-3">
                <label class="form-label">è¡Œæ”¿å€:</label>
                <input name="dist" class="form-control" placeholder="å¦‚ å¤§å®‰å€">
              </div>
              <button type="submit" class="btn btn-primary w-100">æŸ¥è©¢</button>
              <span class="mt-3">å¦‚æœä¸çŸ¥è©²ç¸£å¸‚çš„è¡Œæ”¿å€ï¼Œ å¯ç›´æ¥æ‰“ç¸£å¸‚å¾Œ<br>å†æŒ‰æŸ¥è©¢ï¼Œå³å¯æ‰¾åˆ°è¦çš„è¡Œæ”¿å€ã€‚</span>
            </form>
          </div>
        </div>
      </div>

      <!-- ğŸ”¹ å³å´ï¼šæŸ¥è©¢çµæœå¡ç‰‡ -->
      <div class="col-md-8">
        <div class="card shadow h-100">
           <div class="card-header text-center bg-light">
          <h5 class="fw-bold">é¡¯ç¤ºåœ°åœ– or è¡Œæ”¿å€çš„çµæœ</h5>
          </div>
          <div class="card-body">

            {% if message %}
              <div class="alert alert-danger" role="alert">
                {{ message|safe }}
              </div>
            {% endif %}

            {% if result %}
              <h5 class="fw-bold">è¡Œæ”¿å€åˆ—è¡¨ï¼š</h5>
              <ul class="list-group">
                {% for d in result %}
                  <li class="list-group-item">{{ d }}</li>
                {% endfor %}
              </ul>
            {% endif %}

            {% if map_html %}
              <div style="width: 100%; height: 500px;">
                {{ map_html|safe }}
              </div>
            {% endif %}

          </div>
        </div>
      </div>

    </div>
  </div>
</section>
{% endblock content %}
<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
  <script src="/static/js/bootstrap.bundle.min.js"></script>